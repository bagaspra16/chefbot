<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>ChefBot â€” Kitchen & Cooking Assistant</title>
  <meta name="description" content="Local AI chatbot for kitchen and professional cooking questions." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            background: '#FFF7EE',
            surface: '#F5E6D8',
            'surface-deep': '#EDDDD0',
            accent: '#D4AF37',
            'accent-hover': '#B8962E',
            chefbot: '#C4A77D',
            'chefbot-bg': '#E8D5C4',
            'text-primary': '#1F2937',
            'text-secondary': '#6B7280',
            'text-muted': '#9CA3AF',
            error: '#C2410C',
          },
          fontFamily: { sans: ['DM Sans', 'Inter', 'system-ui', 'sans-serif'] },
          boxShadow: {
            'soft': '0 2px 12px rgba(31, 41, 55, 0.06)',
            'soft-lg': '0 4px 24px rgba(31, 41, 55, 0.08)',
            'accent': '0 4px 14px rgba(212, 175, 55, 0.25)',
          },
        },
      },
    };
  </script>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.11/dist/dotlottie-wc.js" type="module"></script>
</head>
<body class="min-h-screen bg-background font-sans text-text-primary antialiased" role="application" aria-label="ChefBot AI Assistant">
  <!-- Get Started page - shown first -->
  <div id="get-started-page" class="get-started-page fixed inset-0 z-40 flex flex-col items-center justify-center px-6 overflow-hidden">
    <!-- Decorative floating icons - evenly distributed all sides -->
    <div class="get-started-decor absolute inset-0 pointer-events-none overflow-hidden">
      <span class="decor-icon decor-1">ğŸ³</span>
      <span class="decor-icon decor-2">ğŸ¥•</span>
      <span class="decor-icon decor-3">ğŸ§…</span>
      <span class="decor-icon decor-4">ğŸ¥—</span>
      <span class="decor-icon decor-5">ğŸ</span>
      <span class="decor-icon decor-6">ğŸ¥˜</span>
      <span class="decor-icon decor-7">ğŸ§„</span>
      <span class="decor-icon decor-8">ğŸŒ¶ï¸</span>
      <span class="decor-icon decor-9">ğŸ…</span>
      <span class="decor-icon decor-10">ğŸ¥‘</span>
      <span class="decor-icon decor-11">ğŸ¥¬</span>
      <span class="decor-icon decor-12">ğŸ§‚</span>
      <span class="decor-icon decor-13">ğŸ²</span>
      <span class="decor-icon decor-14">ğŸ¥’</span>
      <span class="decor-icon decor-15">ğŸ›</span>
      <span class="decor-icon decor-16">ğŸ¥™</span>
      <span class="decor-icon decor-17">ğŸ¥ª</span>
      <span class="decor-icon decor-18">ğŸ•</span>
      <span class="decor-icon decor-19">ğŸŒ®</span>
      <span class="decor-icon decor-20">ğŸ¥Ÿ</span>
      <span class="decor-icon decor-21">ğŸ¤</span>
      <span class="decor-icon decor-22">ğŸ¥©</span>
      <span class="decor-icon decor-23">ğŸ§†</span>
      <span class="decor-icon decor-24">ğŸ¥ </span>
      <span class="decor-icon decor-25">ğŸ«‘</span>
      <span class="decor-icon decor-26">ğŸ«’</span>
      <span class="decor-icon decor-27">ğŸ¥œ</span>
      <span class="decor-icon decor-28">ğŸ¯</span>
    </div>
    <!-- Main content -->
    <div class="get-started-content max-w-xl text-center relative z-10">
      <div class="get-started-logo w-24 h-24 rounded-2xl flex items-center justify-center mx-auto mb-6">
        <span class="text-5xl">ğŸ‘¨â€ğŸ³</span>
      </div>
      <h1 class="get-started-title text-4xl font-bold text-text-primary mb-2">ChefBot</h1>
      <p class="get-started-subtitle text-xl text-text-secondary mb-4">Kitchen & Cooking Assistant</p>
      <p class="get-started-desc text-sm text-text-muted mb-8 max-w-md mx-auto leading-relaxed">Your local AI assistant for recipes, ingredients, kitchen tips, and culinary questions. Ask anything about cookingâ€”all processing stays on your machine.</p>
      <!-- Feature badges -->
      <div class="get-started-features flex flex-wrap justify-center gap-3 mb-8">
        <span class="feature-badge px-4 py-2 rounded-full bg-white/70 border border-surface/80 text-xs font-medium text-text-secondary shadow-soft">ğŸ“– Recipes</span>
        <span class="feature-badge px-4 py-2 rounded-full bg-white/70 border border-surface/80 text-xs font-medium text-text-secondary shadow-soft">ğŸ¥¬ Ingredients</span>
        <span class="feature-badge px-4 py-2 rounded-full bg-white/70 border border-surface/80 text-xs font-medium text-text-secondary shadow-soft">ğŸ’¡ Tips</span>
        <span class="feature-badge px-4 py-2 rounded-full bg-white/70 border border-surface/80 text-xs font-medium text-text-secondary shadow-soft">ğŸ“‹ Menu</span>
      </div>
      <button type="button" id="btn-get-started" class="get-started-btn px-10 py-4 rounded-xl bg-accent text-white font-semibold hover:bg-accent-hover hover:scale-105 active:scale-100 transition-all duration-300 shadow-soft">
        Get Started
      </button>
    </div>
  </div>

  <!-- Loading overlay - Lottie animation (4â€“7 sec random) -->
  <div id="loading-get-started" class="loading-get-started fixed inset-0 z-50 flex items-center justify-center opacity-0 pointer-events-none" role="status" aria-live="polite">
    <div class="loading-content flex flex-col items-center gap-4">
      <div class="loading-lottie-wrap">
        <dotlottie-wc src="https://lottie.host/7092f7c7-92f1-4b14-98f5-14553cc768ea/dFmQzjlAKC.lottie" class="loading-lottie" style="width: 320px; height: 320px" autoplay loop aria-hidden="true"></dotlottie-wc>
      </div>
      <p id="loading-text" class="loading-text text-sm text-text-muted min-h-[1.5rem]">Preparing your kitchen assistantâ€¦</p>
    </div>
  </div>

  <div id="chatbot-page" class="app-layout flex h-screen min-h-[100dvh] overflow-hidden opacity-0 pointer-events-none transition-opacity duration-500">
    <!-- Left Sidebar: Expandable/Collapsible with Suggested Questions, How to Use, Clear Chat -->
    <aside id="sidebar-left" class="sidebar-left flex-shrink-0 border-r border-surface/80 bg-surface/30 flex flex-col transition-all duration-300" role="navigation" aria-label="Chat sidebar">
      <!-- Collapsed: narrow strip with expand, how-to-use, and clear chat -->
      <div id="sidebar-collapsed" class="sidebar-collapsed flex flex-col items-center py-4 gap-3 flex-1">
        <button type="button" id="btn-expand-sidebar" class="p-2 rounded-lg hover:bg-surface/60 transition-colors" aria-label="Expand sidebar">
          <svg class="w-5 h-5 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
        <span class="text-xs text-text-muted -rotate-90 whitespace-nowrap origin-center">Menu</span>
        <div class="flex-1 flex flex-col items-center justify-end gap-2 pb-2">
          <button type="button" id="btn-how-to-use-collapsed" class="p-2 rounded-lg hover:bg-surface/60 transition-colors" aria-label="How to use">
            <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
          </button>
          <button type="button" id="btn-clear-chat-collapsed" class="p-2 rounded-lg hover:bg-surface/60 transition-colors" aria-label="Clear chat">
            <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
          </button>
        </div>
      </div>
      <!-- Expanded: full content -->
      <div id="sidebar-content" class="sidebar-content flex-1 flex flex-col min-w-0 overflow-hidden">
        <div class="p-4 border-b border-surface/60 flex items-center justify-between flex-shrink-0">
          <h2 class="text-sm font-semibold text-text-primary">Suggested Questions</h2>
          <button type="button" id="btn-toggle-sidebar" class="p-2 rounded-lg hover:bg-surface/60 transition-colors" aria-label="Collapse sidebar">
            <svg class="w-5 h-5 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
          </button>
        </div>
        <div class="suggested-scroll flex-1 overflow-y-auto p-4 min-h-0">
          <div id="suggested-questions" class="space-y-4" role="list">
            <!-- Recipes & Cooking -->
            <section class="suggested-section">
              <h3 class="text-xs font-semibold uppercase tracking-wider text-text-muted mb-2">Recipes & Cooking</h3>
              <ul class="space-y-2">
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="How do I make a basic bÃ©chamel sauce?">How do I make a basic bÃ©chamel sauce?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="How do I make pasta from scratch?">How do I make pasta from scratch?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="What's a simple recipe for homemade tomato sauce?">What's a simple recipe for homemade tomato sauce?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="How do I make fluffy scrambled eggs?">How do I make fluffy scrambled eggs?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="Bagaimana cara memasak nasi goreng khas Indonesia?">Bagaimana cara memasak nasi goreng khas Indonesia?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="Resep rendang daging yang autentik?">Resep rendang daging yang autentik?</button></li>
              </ul>
            </section>
            <!-- Ingredients & Substitutions -->
            <section class="suggested-section">
              <h3 class="text-xs font-semibold uppercase tracking-wider text-text-muted mb-2">Ingredients & Substitutions</h3>
              <ul class="space-y-2">
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="What can I substitute for eggs in baking?">What can I substitute for eggs in baking?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="What can I use instead of butter in cookies?">What can I use instead of butter in cookies?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="How do I store fresh herbs to last longer?">How do I store fresh herbs to last longer?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="Apa pengganti santan untuk masakan?">Apa pengganti santan untuk masakan?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="How long can I keep leftover cooked rice in the fridge?">How long can I keep leftover cooked rice in the fridge?</button></li>
              </ul>
            </section>
            <!-- Kitchen Tips & Equipment -->
            <section class="suggested-section">
              <h3 class="text-xs font-semibold uppercase tracking-wider text-text-muted mb-2">Kitchen Tips & Equipment</h3>
              <ul class="space-y-2">
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="How do I sharpen a chef's knife properly?">How do I sharpen a chef's knife properly?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="What's the difference between sautÃ© and stir-fry?">What's the difference between sautÃ© and stir-fry?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="How do I prevent onions from making me cry?">How do I prevent onions from making me cry?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="Cara memilih wajan yang bagus untuk memasak?">Cara memilih wajan yang bagus untuk memasak?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="What's the best way to clean a cast iron pan?">What's the best way to clean a cast iron pan?</button></li>
              </ul>
            </section>
            <!-- Food Safety -->
            <section class="suggested-section">
              <h3 class="text-xs font-semibold uppercase tracking-wider text-text-muted mb-2">Food Safety</h3>
              <ul class="space-y-2">
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="What's the safe internal temperature for chicken?">What's the safe internal temperature for chicken?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="How long can raw meat stay in the fridge?">How long can raw meat stay in the fridge?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="Can I refreeze thawed meat?">Can I refreeze thawed meat?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="Berapa lama makanan sisa bisa disimpan di kulkas?">Berapa lama makanan sisa bisa disimpan di kulkas?</button></li>
              </ul>
            </section>
            <!-- Baking & Desserts -->
            <section class="suggested-section">
              <h3 class="text-xs font-semibold uppercase tracking-wider text-text-muted mb-2">Baking & Desserts</h3>
              <ul class="space-y-2">
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="Why did my cake sink in the middle?">Why did my cake sink in the middle?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="How do I make pie crust flaky?">How do I make pie crust flaky?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="Resep brownies coklat yang lembut?">Resep brownies coklat yang lembut?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="What's the secret to soft chocolate chip cookies?">What's the secret to soft chocolate chip cookies?</button></li>
              </ul>
            </section>
            <!-- Meal Planning -->
            <section class="suggested-section">
              <h3 class="text-xs font-semibold uppercase tracking-wider text-text-muted mb-2">Meal Planning</h3>
              <ul class="space-y-2">
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="What are some quick weeknight dinner ideas?">What are some quick weeknight dinner ideas?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="Ide menu makan siang yang sehat dan praktis?">Ide menu makan siang yang sehat dan praktis?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="What dishes pair well with grilled salmon?">What dishes pair well with grilled salmon?</button></li>
                <li><button type="button" class="suggested-q w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all hover:shadow-soft" data-q="Menu sarapan sehat untuk keluarga?">Menu sarapan sehat untuk keluarga?</button></li>
              </ul>
            </section>
          </div>
        </div>
        <div class="p-4 border-t border-surface/60 flex flex-col gap-2 flex-shrink-0">
          <button type="button" id="btn-how-to-use" class="w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all flex items-center gap-2">
            <svg class="w-4 h-4 text-accent flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            <span>How to use</span>
          </button>
          <button type="button" id="btn-clear-chat" class="w-full text-left px-3 py-2.5 rounded-xl bg-white/60 hover:bg-surface border border-surface/60 text-sm text-text-primary transition-all flex items-center gap-2">
            <svg class="w-4 h-4 text-accent flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
            <span>Clear chat</span>
          </button>
        </div>
      </div>
    </aside>

    <!-- Center: Main Chat -->
    <main class="flex-1 flex flex-col min-w-0 min-h-0 chat-main" role="main">
      <header class="chat-header flex-shrink-0 px-4 lg:px-6 py-3 lg:py-4 border-b border-surface/60 flex items-center justify-center lg:justify-start bg-white/60 lg:bg-white/50">
        <h1 class="text-base lg:text-lg font-semibold text-text-primary">ChefBot</h1>
      </header>

      <div id="messages" class="flex-1 min-h-0 overflow-y-auto px-4 lg:px-6 py-4 lg:py-6 space-y-4 lg:space-y-6" aria-live="polite" aria-label="Chat messages">
        <div class="flex gap-4 max-w-2xl">
          <div class="flex-shrink-0 w-10 h-10 rounded-full bg-chefbot flex items-center justify-center shadow-soft" aria-hidden="true">
            <span class="text-xl">ğŸ‘¨â€ğŸ³</span>
          </div>
          <div class="flex-1 rounded-2xl msg-bot px-5 py-4 shadow-soft">
            <p class="text-text-primary text-[15px] leading-relaxed">
              Hi! I'm ChefBot, your kitchen and cooking assistant. I can help with recipes, ingredients, techniques, equipment, and culinary tips. What would you like to know?
            </p>
          </div>
        </div>
      </div>

      <!-- Input Area -->
      <form id="chat-form" class="flex-shrink-0 px-4 lg:px-6 py-3 lg:py-4 chat-form" role="form" aria-label="Send a message">
        <div class="flex gap-3 items-end max-w-3xl mx-auto">
          <div class="chat-input-wrap flex-1 flex items-center min-h-12 rounded-xl bg-white px-4 shadow-input">
            <label for="input" class="sr-only">Your message</label>
            <textarea
              id="input"
              name="message"
              rows="1"
              maxlength="2000"
              placeholder="Tanya apa saja tentang masakan..."
              class="flex-1 min-h-[24px] max-h-[28vh] resize-none bg-transparent py-0 px-0 text-text-primary placeholder-text-muted text-[15px] leading-relaxed"
              aria-describedby="input-hint"
            ></textarea>
          </div>
          <button
            type="submit"
            id="send"
            class="flex-shrink-0 h-12 w-12 rounded-xl bg-accent text-white hover:bg-accent-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-soft"
            aria-label="Send message"
          >
            <svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
            </svg>
          </button>
        </div>
        <p id="input-hint" class="sr-only">Press Enter to send; Shift+Enter for new line.</p>
      </form>
    </main>

    <!-- Right Sidebar: Branding, Mode & Language -->
    <aside id="sidebar-right" class="sidebar-right flex-shrink-0 w-64 lg:w-72 border-l border-surface/80 bg-surface/20 flex flex-col items-center justify-start pt-8 pb-6 px-6" role="complementary" aria-label="ChefBot settings">
      <div class="w-16 h-16 rounded-2xl bg-surface flex items-center justify-center shadow-soft mb-4">
        <span class="text-3xl">ğŸ‘¨â€ğŸ³</span>
      </div>
      <h2 class="text-lg font-semibold text-text-primary text-center mb-1">ChefBot</h2>
      <p class="text-sm text-text-secondary text-center mb-6">Kitchen & Cooking Assistant</p>
      <div class="w-full space-y-4">
        <div>
          <span class="text-xs font-semibold uppercase tracking-wider text-text-muted block mb-2">Mode</span>
          <div class="flex flex-wrap gap-2">
            <button type="button" class="mode-tag-btn px-3 py-1.5 rounded-full text-xs font-medium border transition-all" data-mode="recipe">Recipe Bot</button>
            <button type="button" class="mode-tag-btn px-3 py-1.5 rounded-full text-xs font-medium border transition-all" data-mode="ingredient">Ingredient Expert</button>
            <button type="button" class="mode-tag-btn px-3 py-1.5 rounded-full text-xs font-medium border transition-all" data-mode="tips">Kitchen Tips</button>
            <button type="button" class="mode-tag-btn px-3 py-1.5 rounded-full text-xs font-medium border transition-all" data-mode="menu">Menu Planner</button>
          </div>
        </div>
        <div>
          <span class="text-xs font-semibold uppercase tracking-wider text-text-muted block mb-2">Language</span>
          <div class="flex gap-2">
            <button type="button" class="lang-btn flex-1 px-3 py-2 rounded-xl text-xs font-medium border transition-all" data-lang="en">English</button>
            <button type="button" class="lang-btn flex-1 px-3 py-2 rounded-xl text-xs font-medium border transition-all" data-lang="id">Indonesia</button>
          </div>
        </div>
      </div>
      <div class="mt-auto pt-6 w-full">
        <p class="text-xs text-text-muted text-center">Tanpa server. Langsung siap dipakai.</p>
      </div>
    </aside>
  </div>

  <!-- Modal: Clear Chat Confirmation -->
  <div id="modal-clear" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modal-clear-title">
    <div class="modal-content">
      <h3 id="modal-clear-title" class="text-lg font-semibold text-text-primary mb-2">Clear chat?</h3>
      <p class="text-sm text-text-secondary mb-6">Are you sure you want to delete this chat? This action cannot be undone.</p>
      <div class="flex gap-3 justify-end">
        <button type="button" id="modal-clear-cancel" class="px-4 py-2 rounded-xl border border-surface/80 text-text-secondary hover:bg-surface/60 transition-colors">Cancel</button>
        <button type="button" id="modal-clear-confirm" class="px-4 py-2 rounded-xl bg-error text-white hover:bg-error/90 transition-colors">Delete</button>
      </div>
    </div>
  </div>

  <!-- Modal: How to Use -->
  <div id="modal-howto" class="modal-overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modal-howto-title">
    <div class="modal-content max-w-md">
      <h3 id="modal-howto-title" class="text-lg font-semibold text-text-primary mb-4">How to use ChefBot</h3>
      <ul class="text-sm text-text-secondary space-y-2 mb-6">
        <li>â€¢ Type your cooking question in the input field below.</li>
        <li>â€¢ Click a suggested question to ask instantly.</li>
        <li>â€¢ Use <strong>Clear chat</strong> to start a new conversation.</li>
        <li>â€¢ Choose a <strong>Mode</strong> to focus on recipes, ingredients, tips, or menu planning.</li>
        <li>â€¢ Select <strong>Language</strong> (English or Indonesian) for responses.</li>
      </ul>
      <button type="button" id="modal-howto-close" class="w-full px-4 py-2 rounded-xl bg-accent text-white hover:bg-accent-hover transition-colors">Got it</button>
    </div>
  </div>

  <!-- Config Loading Overlay -->
  <div id="config-loading" class="config-loading-overlay hidden" role="status" aria-live="polite">
    <div class="config-loading-content">
      <div class="config-spinner"></div>
      <p class="text-sm text-text-primary">Applying configurationâ€¦</p>
    </div>
  </div>

  <!-- Overlay for mobile sidebar close -->
  <div id="sidebar-overlay" class="sidebar-overlay" aria-hidden="true"></div>

  <!-- Mobile: Floating action buttons -->
  <div class="mobile-fab lg:hidden fixed bottom-20 left-4 right-4 z-20 flex justify-between pointer-events-none">
    <button type="button" id="btn-toggle-left" class="mobile-fab-btn p-3 rounded-2xl bg-white/95 backdrop-blur border border-surface/60 text-accent shadow-soft pointer-events-auto" aria-label="Suggested questions">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
    </button>
    <button type="button" id="btn-toggle-right" class="mobile-fab-btn p-3 rounded-2xl bg-white/95 backdrop-blur border border-surface/60 text-accent shadow-soft pointer-events-auto" aria-label="Mode & Language">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
    </button>
  </div>

  <script src="app.js"></script>
</body>
</html>
